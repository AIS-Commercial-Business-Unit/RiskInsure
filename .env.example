# ==============================================================================
# RiskInsure Environment Variables for Docker Compose
# ==============================================================================
# Copy this file to .env and uncomment/fill in values for your setup.
# The .env file is git-ignored and will not be checked in.
#
# Two common setups:
#   1. Local emulators (default) - Cosmos DB emulator + RabbitMQ in Docker
#   2. Azure cloud resources     - Real Cosmos DB + Azure Service Bus
#
# Instructions: Uncomment ONE option per section below.
# ==============================================================================

# ---- Message Broker ---------------------------------------------------------
# Controls which transport NServiceBus uses for all services.
#   RabbitMQ         - Local development (runs in Docker via docker-compose)
#   AzureServiceBus  - Azure Service Bus (requires SERVICEBUS_CONNECTION_STRING)
MESSAGE_BROKER=RabbitMQ

# ---- Cosmos DB --------------------------------------------------------------
# Option A: Local emulator (runs in Docker via docker-compose)
#   Well-known emulator key, safe for local dev only.
#   Explorer UI: https://localhost:8081/_explorer/index.html
COSMOSDB_CONNECTION_STRING=AccountEndpoint=https://cosmos.domain:8081/;AccountKey=C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==

# Option B: Azure Cosmos DB (replace with your real connection string)
#COSMOSDB_CONNECTION_STRING=AccountEndpoint=https://YOUR-COSMOS-ACCOUNT.documents.azure.com:443/;AccountKey=YOUR_COSMOS_KEY_HERE;

# ---- RabbitMQ ---------------------------------------------------------------
# Only needed when MESSAGE_BROKER=RabbitMQ.
# Uses the Docker service name "rabbitmq" so containers can reach each other.
# Management UI: http://localhost:15672 (guest/guest)
RABBITMQ_CONNECTION_STRING=host=rabbitmq;username=guest;password=guest

# ---- Azure Service Bus ------------------------------------------------------
# Only needed when MESSAGE_BROKER=AzureServiceBus.
# Option A: Service Bus emulator (NOT recommended - limited feature support)
#SERVICEBUS_CONNECTION_STRING=Endpoint=sb://servicebus-emulator;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=EMULATOR_KEY;UseDevelopmentEmulator=true

# Option B: Azure Service Bus (replace with your real connection string)
#SERVICEBUS_CONNECTION_STRING=Endpoint=sb://YOUR-NAMESPACE.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=YOUR_KEY_HERE

# ---- ServiceControl (Particular Platform) ------------------------------------
# ServiceControl uses its own transport type identifiers, separate from MESSAGE_BROKER.
# See: https://docs.particular.net/servicecontrol/transports
#
# Option A: RabbitMQ (default, matches local dev setup)
SERVICECONTROL_TRANSPORTTYPE=RabbitMQ.ClassicConventionalRouting
SERVICECONTROL_CONNECTIONSTRING=host=rabbitmq;username=guest;password=guest

# Option B: Azure Service Bus (uncomment these, comment out Option A above)
#SERVICECONTROL_TRANSPORTTYPE=NetStandardAzureServiceBus
#SERVICECONTROL_CONNECTIONSTRING=Endpoint=sb://YOUR-NAMESPACE.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=YOUR_KEY_HERE

# ---- SQL Server (if needed) ------------------------------------------------
SQL_SERVER_SA_PASSWORD=SomeStrongPassword!123

# ---- Particular Software License --------------------------------------------
# Single-line XML license for NServiceBus / ServicePlatform.
# Obtain from https://particular.net/license or your license administrator.
#PARTICULARSOFTWARE_LICENSE=<?xml version="1.0" encoding="utf-8"?><license ...>...</license>

# ==============================================================================
# Notes:
#   - Connection strings above use Docker service names (rabbitmq, cosmos.domain)
#     which resolve inside the Docker network. From your host machine use
#     "localhost" instead.
#   - Host-accessible Cosmos emulator connection string:
#     AccountEndpoint=https://localhost:8081/;AccountKey=C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==
# ==============================================================================
